// Minimal DOMPurify fallback: conservative sanitizer that escapes HTML
// This fallback provides a safe `.sanitize()` method when CDN DOMPurify
// fails to load. It intentionally performs escaping (no HTML allowed).

(function(window){
    if (window.DOMPurify) return; // CDN provided it

    window.DOMPurify = {
        sanitize: function(input) {
            try {
                var div = document.createElement('div');
                div.textContent = input;
                return div.innerHTML;
            } catch (e) {
                return '';
            }
        }
    };
})(window);
